From 227252546af0229a8dcb49fca80e015f2c309277 Mon Sep 17 00:00:00 2001
From: Mark Shields <mshields@twitter.com>
Date: Thu, 28 Apr 2016 10:38:01 -0400
Subject: [PATCH 2/2] Update docs to reflect dns_canoncalize_hostname flag

---
 doc/admin.texinfo                                  | 7 +++++++
 doc/rst_source/krb_admins/conf_files/krb5_conf.rst | 3 +++
 2 files changed, 10 insertions(+)

diff --git a/doc/admin.texinfo b/doc/admin.texinfo
index cf39f18..03b6462 100644
--- a/doc/admin.texinfo
+++ b/doc/admin.texinfo
@@ -587,6 +587,13 @@ depends on configure-time options; if none were given, the default is to
 disable this option.  If the DNS support is not compiled in, this entry
 has no effect.
 
+@itemx dns_canonicalize_hostname
+Indicate whether name lookups will be used to canonicalize hostnames for
+use in service principal names. Setting this flag to false can improve 
+security by reducing reliance on DNS but means that short hostnames will
+not be canonicalized to fully-qualified hostnames. The default value is 
+false.
+
 @itemx dns_fallback
 General flag controlling the use of DNS for Kerberos information.  If
 both of the preceding options are specified, this option has no effect.
diff --git a/doc/rst_source/krb_admins/conf_files/krb5_conf.rst b/doc/rst_source/krb_admins/conf_files/krb5_conf.rst
index 09fa12f..a67a802 100644
--- a/doc/rst_source/krb_admins/conf_files/krb5_conf.rst
+++ b/doc/rst_source/krb_admins/conf_files/krb5_conf.rst
@@ -101,6 +101,9 @@ The libdefaults section may contain any of the following relations:
 **default_tkt_enctypes**
     Identifies the supported list of session key encryption types that should be requested by the client. The format is the same as for default_tgs_enctypes. The default value for this tag is *aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 des-cbc-crc des-cbc-md5 des-cbc-md4*. 
 
+**dns_canonicalize_hostname***
+    Indicate whether name lookups will be used to canonicalize hostnames for use in service principal names. Setting this flag to false can improve security by reducing reliance on DNS but means that short hostnames will not be canonicalized to fully-qualified hostnames. The default value is false.
+
 **dns_fallback**
     General flag controlling the use of DNS for Kerberos information. If both of the preceding options are specified, this option has no effect. 
 
-- 
2.9.3

